@model IMS.Application.Models.AgentPageModel
@{
    ViewBag.Title = "List of Agents";
}

<link href="../../Content/css/jNotify.jquery.css" rel="stylesheet" type="text/css" />
<script src="../../Scripts/jNotify.jquery.min.js" type="text/javascript"></script>
<script src="../../Scripts/Request/Agency.js" type="text/javascript"></script>
<link href="../../Content/Admin.css" rel="stylesheet" type="text/css" />

<div class = "main-input-wrap">
    <form id="input-form" name="input-form">
    @Html.ValidationSummary(true, "Agent creation was unsuccessful. Please correct the errors and try again.")
    <div>
        <fieldset>
            <legend>Agency Information</legend>
            <div class="editor-label">
                @Html.LabelFor(m => m.CurrentAgent.Name)
            </div>
            <div class="editor-field">
                @Html.TextBoxFor(m => m.CurrentAgent.Name)
                @Html.ValidationMessageFor(m => m.CurrentAgent.Name)
            </div>
            <div class="editor-label">
                @Html.LabelFor(m => m.CurrentAgent.Address)
            </div>
            <div class="editor-field">
                @Html.TextBoxFor(m => m.CurrentAgent.Address)
                @Html.ValidationMessageFor(m => m.CurrentAgent.Address)
            </div>
            <div class="editor-label">
                @Html.LabelFor(m => m.CurrentAgent.IsActive)
            </div>
            <div class="editor-field">
                @Html.CheckBoxFor(m => m.CurrentAgent.IsActive)
                @Html.ValidationMessageFor(m => m.CurrentAgent.IsActive)
            </div>
            <div class="editor-field" hidden="hidden">
                @Html.TextBoxFor(m => m.PkeyForView)
            </div>
            <hr />
            <p>
                <input type="submit" value="Add" id="cmdAdd"/>
                <input type="submit" value="Remove" id="cmdRemove" />
                <input type="submit" value="Update" id="cmdUpdate" />
            </p>
        </fieldset>
    </div>
    </form>
</div>

<h2>List of Agents</h2>
<div class="main-grid-wrap">
<table id="agent-list">
    <tr>
        <th>
            Agent Name
        </th>
        <th>
            Address
        </th>
        <th>
            Active
        </th>
        <th style="display:none"></th>
        <th></th>
    </tr>

    @foreach (var item in Model.AllAgents) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Address)
        </td>
        <td>
            @Html.CheckBoxFor(modelItem => item.IsActive)
        </td>
        <td style="display:none">
            @Html.DisplayFor(modelItem => item.PK_MstrAgency)
        </td>
        <td>
            @Html.ActionLink("Edit", "EditAgent", new { id = item.PK_MstrAgency }) |
            @Html.ActionLink("Delete", "DeleteAgent", new { id = item.PK_MstrAgency })
        </td>
    </tr>
}
</table>
</div>